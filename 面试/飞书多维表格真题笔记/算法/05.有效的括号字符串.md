## 有效的括号字符串

给定一个只包含三种字符的字符串：`（` ，`）` 和 `*`，写一个函数来检验这个字符串是否为有效字符串。有效字符串具有如下规则：

- 任何左括号 ( 必须有相应的右括号 )。
- 任何右括号 ) 必须有相应的左括号 ( 。
- 左括号 ( 必须在对应的右括号之前 )。
- 可以被视为单个右括号 ) ，或单个左括号 ( ，或一个空字符串。
- 一个空字符串也被视为有效字符串。

```
输入: "()"
输出: True
示例 2:

输入: "(*)"
输出: True
示例 3:

输入: "(*))"
输出: True
```

### 方法一：暴力法

对于每个 * 号，让我们尝试两种可能性。

**复杂度分析**

**时间复杂度**：O(N * 3^{N})。其中 N 是字符串的长度。对于每个 * 号，我们尝试 3 个不同的值。因此，我们可以检查最多 3^N 字符串的有效性。那么，每一个有效性检查是 O(N)。

**空间复杂度**：O(N)，字符数组使用的空间。

### 方法二：动态规划

如果且仅当间隔 `s[i], s[i+1], ..., s[j]` 能组成有效的括号时，`dp[i][j]`为 true。只有在下列情况下，`dp[i][j]` 才为 true：

- s[i] 是 `'*'` 号, 且在 `s[i+1], s[i+2], ..., s[j]` 这个范围能够组成有效的括号
- 或者，s[i] 为 `'('`（从左往右，s[i] 不可能是`)`），并且在 `[i+1，j]` 中有一些 k，使得 s[k] 为 `')'`，且 `s[i+1:k]` 和 `s[k+1:j+1]` 截断的两个间隔可以构成有效的括号；

**复杂度分析**

**时间复杂度**：O(N^3)。其中 N 是字符串的长度。有 O(N^2) 时间对应于 dp 的状态，我们对每个状态平均执行 O(N) 工作。

**空间复杂度**：O(N^2)，用于在 dp 中存储中间结果的空间。

