## 需求

实现一个类似钓鱼的 CSS 小游戏，循环滚动几个奖品，点击开始按钮的时候发出套索，套中奖品。

基本需要实现的点分为以下：

1. 循环滚动奖品
2. 点击按钮后发出套索，然后到套索命中这个过程。
3. 命中奖品后需要隐藏这个奖品改为展示被套中的奖品图片，并且需要停止其他奖品的滚动。
4. 根据接口返回结果显示不同的奖品弹框

## 实现

1. 循环滚动可以使用帧动画循环播放，本质只有三个奖品图片在滚动，使用`animation-delay`延迟滚动三个奖品，奖品滚动出页面范围后重新回到起点。
2. 使用常量表示点击按钮后的各种状态，显示不同阶段的动画（点击按钮，等待接口返回 - 发出套索 - 拖拽奖品 - 拖拽完成）
3. 如何知道当前命中的是三个奖品中的哪一个？因为控制了三个奖品之间的间隔和奖品设置的大小，所以一屏内最少也会显示两个奖品而且他们之间的间隔不会太大，所以只要取当前位于三个奖品中间的哪一个奖品就不会选中屏幕外的奖品，这样就不会明显的露馅。最终我们是接口返回抽奖结果，而且一般命中后就要弹窗，所以只要没有明显穿帮就可以了。至于怎么获取到当前三个奖品当时的位置呢，我们可以在页面加载或者电话开始的时候设置一个定时器，使用和滚动周期一样的时间间隔，同步奖品的滚动。当然定时器启动可能和动画开始有误差，但是误差时间是基本固定的，可以根据情况我们取定时器里记录的第一个或者最后一个代替。
4. 最好的方法是写一个组件，根据传入组件的接口返回结果，显示不同的奖品弹框，随机弹框样式可以使用`Math.random`实现。

但是其实最好的方法是使用canvas，使用canvas的话，计算命中奖品也会更加精确。但是考虑到canvas在小程序的兼容性问题，还有计算本身也需要性能消耗，如果不要求精确命中的话，其实我们的方法更加合适。

